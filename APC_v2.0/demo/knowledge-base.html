<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>知识库 - 心灵伴侣</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf9 100%);
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* 导航栏 */
        header {
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #6a67ce;
        }

        .nav-links {
            display: flex;
            list-style: none;
        }

        .nav-links li {
            margin-left: 30px;
        }

        .nav-links a {
            text-decoration: none;
            color: #555;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: #6a67ce;
        }

        /* 功能下拉菜单 */
        .dropdown {
            position: relative;
            display: inline-block;
        }

        /* 为功能菜单添加更鲜亮显眼的样式 */
        .dropdown .dropbtn {
            background: linear-gradient(45deg, #ff6b6b, #ffa502);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 500;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
            box-shadow: 0 2px 5px rgba(255, 107, 107, 0.3);
            border: none;
            cursor: pointer;
            margin-left: 15px;
        }

        .dropdown .dropbtn:hover {
            background: linear-gradient(45deg, #ff5252, #ff9f1a);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(255, 107, 107, 0.4);
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #ffffff;
            min-width: 220px;
            box-shadow: 0px 8px 20px 0px rgba(0,0,0,0.2);
            z-index: 1;
            border-radius: 10px;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            padding: 10px 0;
            border: 1px solid #eee;
        }

        .dropdown-content a {
            color: #555;
            padding: 12px 20px;
            text-decoration: none;
            display: block;
            text-align: left;
            transition: all 0.3s;
            border-left: 3px solid transparent;
        }

        .dropdown-content a:hover {
            background-color: #f8f9fa;
            color: #ff6b6b;
            border-left: 3px solid #ff6b6b;
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        .dropdown:hover .dropbtn {
            color: white;
        }

        .cta-button {
            background: #6a67ce;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s;
        }

        .cta-button:hover {
            background: #5a57c5;
        }

        /* 用户信息按钮 */
        .user-info {
            display: none;
            position: relative;
        }

        .user-button {
            background: #6a67ce;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .user-menu {
            position: absolute;
            top: 50px;
            right: 0;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            padding: 15px;
            width: 200px;
            display: none;
            z-index: 1001;
        }

        .user-menu.show {
            display: block;
        }
        
        .user-menu p {
            margin: 0 0 10px 0;
            font-weight: 500;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        .user-menu button {
            display: block;
            width: 100%;
            padding: 10px;
            background: #f5f5f5;
            border: none;
            border-radius: 5px;
            text-align: left;
            cursor: pointer;
            margin-bottom: 5px;
            transition: background 0.3s;
        }
        
        .user-menu button:hover {
            background: #e0e0e0;
        }

        /* 登录/注册按钮 */
        .auth-button {
            background: transparent;
            color: #6a67ce;
            border: 2px solid #6a67ce;
            padding: 8px 16px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
            margin-left: 15px;
        }

        .auth-button:hover {
            background: #f0f0ff;
        }

        /* 主要内容区域 */
        .main-content {
            padding: 120px 0 50px;
        }

        .page-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .page-header h1 {
            font-size: 2.5rem;
            color: #333;
            margin-bottom: 15px;
        }

        .page-header p {
            font-size: 1.2rem;
            color: #666;
            max-width: 700px;
            margin: 0 auto;
        }

        /* 搜索栏 */
        .search-container {
            max-width: 600px;
            margin: 0 auto 40px;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 15px 20px;
            border: 1px solid #ddd;
            border-radius: 30px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .search-input:focus {
            border-color: #6a67ce;
            outline: none;
        }

        .search-button {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: #6a67ce;
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 20px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .search-button:hover {
            background: #5a57c5;
        }

        /* 分类导航 */
        .categories {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 40px;
        }

        .category-button {
            background: white;
            color: #666;
            border: 1px solid #ddd;
            padding: 10px 20px;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .category-button:hover, .category-button.active {
            background: #6a67ce;
            color: white;
            border-color: #6a67ce;
        }

        /* 知识库内容 */
        .knowledge-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .article-card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            padding: 30px;
            transition: transform 0.3s;
        }

        .article-card:hover {
            transform: translateY(-10px);
        }

        .article-icon {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: #6a67ce;
        }

        .article-card h3 {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: #333;
        }

        .article-card p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .article-meta {
            display: flex;
            justify-content: space-between;
            color: #999;
            font-size: 0.9rem;
        }

        .read-more {
            color: #6a67ce;
            text-decoration: none;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
        }

        .read-more:hover {
            text-decoration: underline;
        }

        /* 文章详情 */
        .article-detail {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            padding: 40px;
            margin-bottom: 40px;
            display: none;
        }

        .article-header {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .article-header h2 {
            font-size: 2rem;
            color: #333;
            margin-bottom: 15px;
        }

        .article-meta-detail {
            display: flex;
            color: #999;
            font-size: 0.9rem;
        }

        .article-meta-detail span {
            margin-right: 20px;
        }

        .article-content {
            line-height: 1.8;
        }

        .article-content h3 {
            font-size: 1.5rem;
            color: #333;
            margin: 30px 0 20px;
        }

        .article-content p {
            margin-bottom: 20px;
        }

        .article-content ul {
            padding-left: 20px;
            margin-bottom: 20px;
        }

        .article-content li {
            margin-bottom: 10px;
        }

        /* 底部 */
        footer {
            background: #333;
            color: white;
            padding: 50px 0 20px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .footer-column h3 {
            margin-bottom: 20px;
            color: #6a67ce;
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column ul li {
            margin-bottom: 10px;
        }

        .footer-column ul li a {
            color: #ccc;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-column ul li a:hover {
            color: #6a67ce;
        }

        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #444;
            color: #aaa;
        }

        /* 响应式设计 */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .article-detail, .article-card {
                padding: 20px;
            }
            
            .categories {
                gap: 10px;
            }
            
            .category-button {
                padding: 8px 15px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <header>
        <div class="container">
            <nav>
                <div class="logo">心灵伴侣</div>
                <ul class="nav-links">
                    <li><a href="index.html">首页</a></li>
                    <li><a href="index.html#features">功能</a></li>
                    <li><a href="index.html#testimonials">用户评价</a></li>
                    <li><a href="index.html#contact">联系我们</a></li>
                </ul>
                <div class="user-info" id="user-info">
                    <button class="user-button" id="user-button">U</button>
                    <div class="user-menu" id="user-menu">
                        <p>用户菜单</p>
                        <div id="user-profile-info">
                            <p>用户名: <span id="user-name"></span></p>
                            <p>昵称: <span id="profile-nickname"></span></p>
                            <p>性别:<span id="profile-gender"></span><span id="profile-zodiac"></span></p>
                        </div>
                        <button id="profile-btn">个人信息</button>
                        <button id="logout-btn">退出登录</button>
                    </div>
                </div>
                <div class="dropdown">
                    <a class="dropbtn">功能</a>
                    <div class="dropdown-content">
                        <a href="ai-counselor.html">AI心理咨询师</a>
                        <a href="emotion-tracking.html">情绪追踪</a>
                        <a href="cognitive-restructuring.html">认知重构</a>
                        <a href="meditation.html">冥想练习</a>
                        <a href="psychological-tests.html">心理测试</a>
                        <a href="knowledge-base.html">知识库</a>
                    </div>
                </div>
                <button class="cta-button" onclick="goToChat()">开始聊天</button>
            </nav>
        </div>
    </header>

    <!-- 主要内容 -->
    <section class="main-content">
        <div class="container">
            <div class="page-header">
                <h1>心理健康知识库</h1>
                <p>丰富的心理健康知识和自助技巧，随时查阅学习</p>
            </div>

            <!-- 搜索栏 -->
            <div class="search-container">
                <input type="text" class="search-input" placeholder="搜索心理健康知识..." id="search-input">
                <button class="search-button" onclick="searchArticles()">搜索</button>
            </div>

            <!-- 分类导航 -->
            <div class="categories">
                <button class="category-button active" onclick="filterArticles('all')">全部</button>
                <button class="category-button" onclick="filterArticles('depression')">抑郁</button>
                <button class="category-button" onclick="filterArticles('anxiety')">焦虑</button>
                <button class="category-button" onclick="filterArticles('sleep')">睡眠</button>
                <button class="category-button" onclick="filterArticles('relationships')">人际关系</button>
                <button class="category-button" onclick="filterArticles('stress')">压力管理</button>
            </div>

            <!-- 知识库内容 -->
            <div class="knowledge-content" id="knowledge-content">
                <div class="article-card">
                    <div class="article-icon">🧠</div>
                    <h3>认知行为疗法(CBT)简介</h3>
                    <p>认知行为疗法是一种有效的心理治疗方法，通过改变思维模式和行为习惯来改善情绪和心理健康。</p>
                    <div class="article-meta">
                        <span>认知疗法</span>
                        <span>2025-10-15</span>
                    </div>
                    <a href="#" class="read-more" onclick="showArticle('cbt')">阅读全文 →</a>
                </div>
                <div class="article-card">
                    <div class="article-icon">😢</div>
                    <h3>如何应对抑郁情绪</h3>
                    <p>抑郁情绪是现代人常见的心理问题，了解如何识别和应对抑郁情绪对维护心理健康至关重要。</p>
                    <div class="article-meta">
                        <span>抑郁</span>
                        <span>2025-10-10</span>
                    </div>
                    <a href="#" class="read-more" onclick="showArticle('depression')">阅读全文 →</a>
                </div>
                <div class="article-card">
                    <div class="article-icon">😰</div>
                    <h3>焦虑管理的实用技巧</h3>
                    <p>焦虑是常见的情绪反应，掌握有效的焦虑管理技巧可以帮助我们更好地应对生活中的压力。</p>
                    <div class="article-meta">
                        <span>焦虑</span>
                        <span>2025-10-05</span>
                    </div>
                    <a href="#" class="read-more" onclick="showArticle('anxiety')">阅读全文 →</a>
                </div>
                <div class="article-card">
                    <div class="article-icon">💤</div>
                    <h3>改善睡眠质量的方法</h3>
                    <p>良好的睡眠对身心健康至关重要，以下是一些改善睡眠质量的实用建议。</p>
                    <div class="article-meta">
                        <span>睡眠</span>
                        <span>2025-09-28</span>
                    </div>
                    <a href="#" class="read-more" onclick="showArticle('sleep')">阅读全文 →</a>
                </div>
                <div class="article-card">
                    <div class="article-icon">🤝</div>
                    <h3>建立健康的人际关系</h3>
                    <p>良好的人际关系是心理健康的重要保障，学习如何建立和维护健康的人际关系非常重要。</p>
                    <div class="article-meta">
                        <span>人际关系</span>
                        <span>2025-09-20</span>
                    </div>
                    <a href="#" class="read-more" onclick="showArticle('relationships')">阅读全文 →</a>
                </div>
                <div class="article-card">
                    <div class="article-icon">💪</div>
                    <h3>压力管理与自我调节</h3>
                    <p>现代生活中压力无处不在，掌握有效的压力管理技巧对维护身心健康至关重要。</p>
                    <div class="article-meta">
                        <span>压力管理</span>
                        <span>2025-09-15</span>
                    </div>
                    <a href="#" class="read-more" onclick="showArticle('stress')">阅读全文 →</a>
                </div>
            </div>

            <!-- 文章详情 -->
            <div class="article-detail" id="article-detail">
                <div class="article-header">
                    <h2 id="article-title">文章标题</h2>
                    <div class="article-meta-detail">
                        <span id="article-category">分类</span>
                        <span id="article-date">2025-01-01</span>
                        <span id="article-author">作者</span>
                    </div>
                </div>
                <div class="article-content" id="article-content">
                    <!-- 文章内容将通过JavaScript动态加载 -->
                </div>
                <button class="search-button" onclick="hideArticle()" style="margin-top: 30px;">返回知识库</button>
            </div>
        </div>
    </section>

    <!-- 底部 -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>心灵伴侣</h3>
                    <p>您的专属AI心理咨询师，24小时在线陪伴，保护隐私，专业支持。</p>
                </div>
                <div class="footer-column">
                    <h3>功能</h3>
                    <ul>
                        <li><a href="ai-counselor.html">AI心理聊天</a></li>
                        <li><a href="emotion-tracking.html">情绪追踪</a></li>
                        <li><a href="cognitive-restructuring.html">认知重构</a></li>
                        <li><a href="meditation.html">冥想练习</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>资源</h3>
                    <ul>
                        <li><a href="psychological-tests.html">心理测试</a></li>
                        <li><a href="knowledge-base.html">知识库</a></li>
                        <li><a href="help-center.html">帮助中心</a></li>
                        <li><a href="terms.html">隐私政策</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>支持</h3>
                    <ul>
                        <li><a href="help-center.html">帮助中心</a></li>
                        <li><a href="terms.html">隐私政策</a></li>
                        <li><a href="terms-of-service.html">服务条款</a></li>
                        <li><a href="contact-us.html">联系我们</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 心灵伴侣. 保留所有权利。</p>
            </div>
        </div>
    </footer>

    <script>
        // 文章数据
        const articles = {
            cbt: {
                title: "认知行为疗法(CBT)简介",
                category: "认知疗法",
                date: "2025-10-15",
                author: "心灵伴侣",
                content: `
                    <p>认知行为疗法（Cognitive Behavioral Therapy，简称CBT）是一种广泛应用且经过科学验证的心理治疗方法。它基于这样一个核心理念：我们的思维、情绪和行为是相互关联的，通过改变不健康的思维模式和行为习惯，可以改善情绪状态和心理健康。</p>
                    
                    <h3>CBT的基本原理</h3>
                    <p>CBT认为，许多心理问题源于不准确或有害的思维模式。这些思维模式可能导致负面情绪和不良行为，进而影响我们的生活质量。通过识别和改变这些思维模式，我们可以学会更健康、更现实的思考方式。</p>
                    
                    <h3>CBT的主要特点</h3>
                    <ul>
                        <li><strong>结构化：</strong>CBT通常有明确的结构和目标，治疗过程清晰有序</li>
                        <li><strong>短期性：</strong>相比其他心理疗法，CBT通常疗程较短，一般为6-20次会谈</li>
                        <li><strong>问题导向：</strong>专注于解决当前的具体问题，而非深入探讨过去经历</li>
                        <li><strong>教育性：</strong>治疗师会教授患者具体的技能和策略，使其能够在治疗结束后继续应用</li>
                        <li><strong>合作性：</strong>治疗师和患者是合作关系，共同制定治疗目标和计划</li>
                    </ul>
                    
                    <h3>CBT的适用范围</h3>
                    <p>CBT已被证明对多种心理问题有效，包括但不限于：</p>
                    <ul>
                        <li>抑郁症</li>
                        <li>焦虑症（包括广泛性焦虑、恐慌症、社交焦虑等）</li>
                        <li>强迫症</li>
                        <li>创伤后应激障碍(PTSD)</li>
                        <li>饮食障碍</li>
                        <li>失眠</li>
                        <li>愤怒管理问题</li>
                    </ul>
                    
                    <h3>CBT的核心技术</h3>
                    <p>在CBT治疗中，治疗师会使用多种技术帮助患者改变思维和行为模式：</p>
                    <ul>
                        <li><strong>认知重构：</strong>识别和质疑不准确的思维，发展更平衡的想法</li>
                        <li><strong>行为实验：</strong>通过实际体验来检验负面预测</li>
                        <li><strong>暴露疗法：</strong>逐步面对恐惧的情境或物体</li>
                        <li><strong>行为激活：</strong>增加积极活动以改善情绪</li>
                        <li><strong>问题解决技巧：</strong>系统性地解决生活中的困难</li>
                    </ul>
                    
                    <h3>如何在日常生活中应用CBT</h3>
                    <p>即使没有接受正式的CBT治疗，您也可以在日常生活中运用CBT的原则：</p>
                    <ol>
                        <li>注意自己的自动思维，特别是负面情境下的想法</li>
                        <li>质疑这些思维的准确性和有用性</li>
                        <li>寻找证据支持和反对这些思维</li>
                        <li>发展更平衡、现实的替代思维</li>
                        <li>通过行为实验验证新的思维模式</li>
                    </ol>
                    
                    <p>CBT是一种实用且有效的心理治疗方法，它赋予人们自我帮助的工具和技能。通过学习和实践CBT技术，您可以更好地管理情绪，改善心理健康，提高生活质量。</p>
                `
            },
            depression: {
                title: "如何应对抑郁情绪",
                category: "抑郁",
                date: "2025-10-10",
                author: "心灵伴侣",
                content: `
                    <p>抑郁情绪是现代人常见的心理问题，它不同于临床抑郁症，但同样会影响我们的日常生活和幸福感。了解如何识别和应对抑郁情绪对维护心理健康至关重要。</p>
                    
                    <h3>识别抑郁情绪的迹象</h3>
                    <p>抑郁情绪可能表现为以下症状：</p>
                    <ul>
                        <li>持续的悲伤或空虚感</li>
                        <li>对平时喜欢的活动失去兴趣</li>
                        <li>疲劳或精力不足</li>
                        <li>注意力难以集中</li>
                        <li>睡眠问题（失眠或嗜睡）</li>
                        <li>食欲变化（食欲不振或暴饮暴食）</li>
                        <li>自我价值感低或过度内疚</li>
                        <li>难以做决定</li>
                    </ul>
                    
                    <h3>应对抑郁情绪的策略</h3>
                    
                    <h4>1. 建立健康的生活习惯</h4>
                    <p>规律的生活习惯对情绪稳定非常重要：</p>
                    <ul>
                        <li>保持规律的睡眠时间</li>
                        <li>均衡饮食，避免过度依赖咖啡因和糖分</li>
                        <li>定期进行体育锻炼，即使是轻度运动也有帮助</li>
                        <li>限制酒精摄入</li>
                    </ul>
                    
                    <h4>2. 社交支持</h4>
                    <p>与他人保持联系对克服抑郁情绪至关重要：</p>
                    <ul>
                        <li>与信任的朋友或家人分享感受</li>
                        <li>参加社交活动，即使你不想去</li>
                        <li>寻求专业帮助，如心理咨询师</li>
                        <li>加入支持小组或兴趣小组</li>
                    </ul>
                    
                    <h4>3. 认知调节</h4>
                    <p>改变思维模式有助于改善情绪：</p>
                    <ul>
                        <li>识别和质疑负面的自动思维</li>
                        <li>专注于解决问题而非沉溺于问题</li>
                        <li>练习感恩，每天记录三件好事</li>
                        <li>设定现实可行的目标</li>
                    </ul>
                    
                    <h4>4. 放松和自我关怀</h4>
                    <p>学会放松和善待自己：</p>
                    <ul>
                        <li>练习深呼吸、冥想或瑜伽</li>
                        <li>进行喜欢的活动，如阅读、听音乐或散步</li>
                        <li>给自己一些私人时间</li>
                        <li>避免自我批评，学会自我同情</li>
                    </ul>
                    
                    <h3>何时寻求专业帮助</h3>
                    <p>如果抑郁情绪持续两周以上，严重影响工作、学习或人际关系，或者出现以下情况，应寻求专业帮助：</p>
                    <ul>
                        <li>有自伤或自杀的想法</li>
                        <li>无法履行日常职责</li>
                        <li>使用酒精或药物来自我治疗</li>
                        <li>情绪问题影响到身体健康</li>
                    </ul>
                    
                    <p>记住，寻求帮助是勇敢的表现，不是软弱。专业的心理健康服务提供者可以帮助您找到最适合的治疗方法。</p>
                `
            },
            anxiety: {
                title: "焦虑管理的实用技巧",
                category: "焦虑",
                date: "2025-10-05",
                author: "心灵伴侣",
                content: `
                    <p>焦虑是常见的情绪反应，适度的焦虑有助于我们应对挑战，但过度或持续的焦虑会影响生活质量。掌握有效的焦虑管理技巧可以帮助我们更好地应对生活中的压力。</p>
                    
                    <h3>理解焦虑</h3>
                    <p>焦虑是对未来威胁的预期反应，通常伴随着担心、紧张和身体症状。常见的焦虑症状包括：</p>
                    <ul>
                        <li>心跳加速或心悸</li>
                        <li>出汗或颤抖</li>
                        <li>呼吸急促</li>
                        <li>肌肉紧张</li>
                        <li>难以集中注意力</li>
                        <li>睡眠问题</li>
                        <li>易怒</li>
                    </ul>
                    
                    <h3>实用的焦虑管理技巧</h3>
                    
                    <h4>1. 深呼吸练习</h4>
                    <p>深呼吸是快速缓解焦虑的有效方法：</p>
                    <ul>
                        <li>找个安静的地方坐下或躺下</li>
                        <li>慢慢吸气4秒钟</li>
                        <li>屏住呼吸4秒钟</li>
                        <li>慢慢呼气6秒钟</li>
                        <li>重复这个过程5-10次</li>
                    </ul>
                    
                    <h4>2. 渐进性肌肉放松</h4>
                    <p>这种方法有助于缓解身体紧张：</p>
                    <ul>
                        <li>从脚趾开始，逐渐向上紧张和放松各个肌肉群</li>
                        <li>每个部位紧张5秒钟，然后放松10秒钟</li>
                        <li>注意紧张和放松之间的区别</li>
                    </ul>
                    
                    <h4>3. 正念冥想</h4>
                    <p>正念冥想帮助您专注于当下：</p>
                    <ul>
                        <li>每天花10-20分钟练习</li>
                        <li>专注于呼吸或身体感觉</li>
                        <li>当思绪出现时，温和地将注意力带回当下</li>
                    </ul>
                    
                    <h4>4. 认知重构</h4>
                    <p>改变引发焦虑的思维模式：</p>
                    <ul>
                        <li>识别灾难化思维（"如果...怎么办"）</li>
                        <li>质疑这些想法的现实性</li>
                        <li>寻找更平衡、现实的想法</li>
                    </ul>
                    
                    <h4>5. 时间管理和优先级设定</h4>
                    <p>减少因时间压力而产生的焦虑：</p>
                    <ul>
                        <li>制定每日和每周计划</li>
                        <li>将大任务分解为小步骤</li>
                        <li>学会说"不"，避免过度承诺</li>
                        <li>为每项任务设定现实的时间预期</li>
                    </ul>
                    
                    <h4>6. 生活方式调整</h4>
                    <p>健康的生活习惯有助于减少焦虑：</p>
                    <ul>
                        <li>保持规律的睡眠时间</li>
                        <li>定期进行体育锻炼</li>
                        <li>限制咖啡因和酒精摄入</li>
                        <li>保持均衡饮食</li>
                    </ul>
                    
                    <h3>应对焦虑发作</h3>
                    <p>当焦虑突然袭来时：</p>
                    <ul>
                        <li>提醒自己焦虑会过去</li>
                        <li>使用深呼吸技巧</li>
                        <li>专注于周围的5样东西、4种声音、3种触感</li>
                        <li>进行接地练习，如触摸冷的物体</li>
                    </ul>
                    
                    <p>如果焦虑严重影响日常生活，建议寻求专业心理健康服务。认知行为疗法、药物治疗或两者结合通常对焦虑症非常有效。</p>
                `
            },
            sleep: {
                title: "改善睡眠质量的方法",
                category: "睡眠",
                date: "2025-09-28",
                author: "心灵伴侣",
                content: `
                    <p>良好的睡眠对身心健康至关重要。充足的睡眠不仅能恢复体力，还能巩固记忆、调节情绪、增强免疫力。以下是一些改善睡眠质量的实用建议：</p>
                    
                    <h3>建立规律的作息时间</h3>
                    <p>保持固定的睡眠和起床时间，即使是周末。这有助于调节生物钟，提高睡眠质量。</p>
                    <ul>
                        <li>每天同一时间上床睡觉和起床</li>
                        <li>避免白天长时间午睡（不超过30分钟）</li>
                        <li>起床后尽快接受自然光照</li>
                    </ul>
                    
                    <h3>创造良好的睡眠环境</h3>
                    <p>舒适的睡眠环境有助于更快入睡和深度睡眠：</p>
                    <ul>
                        <li>保持卧室安静、黑暗和凉爽（16-19°C）</li>
                        <li>选择舒适的床垫和枕头</li>
                        <li>使用遮光窗帘或眼罩</li>
                        <li>考虑使用白噪音机或耳塞</li>
                    </ul>
                    
                    <h3>睡前习惯调整</h3>
                    <p>睡前1-2小时的行为对睡眠质量有很大影响：</p>
                    <ul>
                        <li>避免使用电子设备（蓝光会抑制褪黑素分泌）</li>
                        <li>尝试放松活动，如阅读、冥想或温水浴</li>
                        <li>避免大餐、咖啡因和酒精</li>
                        <li>可以进行轻柔的伸展运动</li>
                    </ul>
                    
                    <h3>日间生活习惯</h3>
                    <p>白天的行为也会影响夜间睡眠：</p>
                    <ul>
                        <li>每天进行适量运动，但避免睡前3小时内剧烈运动</li>
                        <li>保证充足的自然光照</li>
                        <li>控制咖啡因摄入，下午2点后避免</li>
                        <li>保持规律的饮食时间</li>
                    </ul>
                    
                    <h3>放松技巧</h3>
                    <p>当难以入睡时，可以尝试以下技巧：</p>
                    <ul>
                        <li><strong>4-7-8呼吸法：</strong>吸气4秒，屏息7秒，呼气8秒</li>
                        <li><strong>渐进性肌肉放松：</strong>从脚趾开始，逐步紧张和放松全身肌肉</li>
                        <li><strong>冥想或正念练习：</strong>专注于呼吸或身体感觉</li>
                        <li><strong>想象放松场景：</strong>在脑海中构建平静的场景</li>
                    </ul>
                    
                    <h3>应对失眠</h3>
                    <p>如果躺在床上20分钟仍无法入睡：</p>
                    <ul>
                        <li>起床到另一个房间进行安静的活动</li>
                        <li>直到感到困倦再回到床上</li>
                        <li>避免看时间，减少焦虑</li>
                    </ul>
                    
                    <h3>何时寻求专业帮助</h3>
                    <p>如果持续出现以下情况，应考虑咨询医生：</p>
                    <ul>
                        <li>每周超过3次失眠，持续1个月以上</li>
                        <li>睡眠问题严重影响日间功能</li>
                        <li>出现睡眠呼吸暂停症状（打鼾、呼吸暂停）</li>
                        <li>需要依赖药物才能入睡</li>
                    </ul>
                    
                    <p>记住，改善睡眠是一个过程，需要耐心和坚持。通过逐步调整生活习惯，大多数人都能显著改善睡眠质量。</p>
                `
            },
            relationships: {
                title: "建立健康的人际关系",
                category: "人际关系",
                date: "2025-09-20",
                author: "心灵伴侣",
                content: `
                    <p>良好的人际关系是心理健康的重要保障，也是幸福生活的重要组成部分。学习如何建立和维护健康的人际关系对个人成长和社会适应至关重要。</p>
                    
                    <h3>健康人际关系的特征</h3>
                    <p>良好的人际关系通常具备以下特点：</p>
                    <ul>
                        <li><strong>相互尊重：</strong>尊重彼此的观点、感受和边界</li>
                        <li><strong>真诚开放：</strong>能够真实表达自己，不伪装</li>
                        <li><strong>相互支持：</strong>在困难时互相帮助和鼓励</li>
                        <li><strong>有效沟通：</strong>能够清晰表达和积极倾听</li>
                        <li><strong>信任与忠诚：</strong>建立在诚实和可靠基础上</li>
                        <li><strong>独立与依存平衡：</strong>既保持个人独立性，又能在需要时相互依赖</li>
                    </ul>
                    
                    <h3>沟通技巧</h3>
                    <p>有效的沟通是健康人际关系的基础：</p>
                    <ul>
                        <li><strong>积极倾听：</strong>全神贯注地听对方说话，不打断</li>
                        <li><strong>使用"I"语句：</strong>表达自己的感受而非指责对方</li>
                        <li><strong>非语言沟通：</strong>注意肢体语言、眼神交流和语调</li>
                        <li><strong>及时反馈：</strong>确认理解对方的意思</li>
                        <li><strong>处理冲突：</strong>就事论事，避免人身攻击</li>
                    </ul>
                    
                    <h3>建立边界</h3>
                    <p>健康的人际关系需要清晰的边界：</p>
                    <ul>
                        <li>明确自己的需求和底线</li>
                        <li>学会说"不"而不感到内疚</li>
                        <li>尊重他人的边界</li>
                        <li>在关系中保持个人空间和独立性</li>
                    </ul>
                    
                    <h3>处理人际关系中的问题</h3>
                    <p>面对人际关系挑战时：</p>
                    <ul>
                        <li><strong>识别问题：</strong>明确问题的核心</li>
                        <li><strong>选择合适时机：</strong>在双方都冷静时讨论</li>
                        <li><strong>表达感受：</strong>用具体例子说明问题</li>
                        <li><strong>共同寻找解决方案：</strong>合作而非对抗</li>
                        <li><strong>学会原谅：</strong>放下过去的伤害</li>
                    </ul>
                    
                    <h3>不同类型关系的维护</h3>
                    
                    <h4>亲密关系</h4>
                    <ul>
                        <li>保持浪漫和新鲜感</li>
                        <li>分享个人想法和感受</li>
                        <li>共同参与活动</li>
                        <li>给予对方个人空间</li>
                    </ul>
                    
                    <h4>友谊</h4>
                    <ul>
                        <li>保持联系和互动</li>
                        <li>在朋友需要时提供支持</li>
                        <li>庆祝朋友的成功</li>
                        <li>接受友谊的自然变化</li>
                    </ul>
                    
                    <h4>家庭关系</h4>
                    <ul>
                        <li>理解家庭成员的角色和期望</li>
                        <li>处理代沟和价值观差异</li>
                        <li>设立健康的边界</li>
                        <li>在必要时寻求家庭治疗</li>
                    </ul>
                    
                    <h4>职场关系</h4>
                    <ul>
                        <li>保持专业性</li>
                        <li>建立良好的工作合作关系</li>
                        <li>处理职场冲突</li>
                        <li>平衡工作与个人生活</li>
                    </ul>
                    
                    <h3>自我提升</h3>
                    <p>改善人际关系从自我提升开始：</p>
                    <ul>
                        <li>提高自我意识和情商</li>
                        <li>培养同理心</li>
                        <li>学会管理情绪</li>
                        <li>发展个人兴趣和技能</li>
                        <li>建立自信</li>
                    </ul>
                    
                    <h3>何时寻求帮助</h3>
                    <p>如果人际关系问题严重影响生活质量：</p>
                    <ul>
                        <li>持续的人际冲突</li>
                        <li>社交焦虑或回避</li>
                        <li>遭受欺凌或虐待</li>
                        <li>孤独感严重影响情绪</li>
                    </ul>
                    
                    <p>记住，建立健康的人际关系需要时间和努力。每个人都有能力改善自己的人际关系，关键是要有意识地投入和练习。</p>
                `
            },
            stress: {
                title: "压力管理与自我调节",
                category: "压力管理",
                date: "2025-09-15",
                author: "心灵伴侣",
                content: `
                    <p>现代生活中压力无处不在，适度的压力可以激发潜能，但过度或持续的压力会对身心健康造成负面影响。掌握有效的压力管理技巧对维护身心健康至关重要。</p>
                    
                    <h3>认识压力</h3>
                    <p>压力是身体对外界挑战或威胁的自然反应：</p>
                    <ul>
                        <li><strong>急性压力：</strong>短期压力，如考试或演讲</li>
                        <li><strong>慢性压力：</strong>长期持续的压力，如工作或家庭问题</li>
                    </ul>
                    
                    <h4>压力的生理反应</h4>
                    <ul>
                        <li>肾上腺素分泌增加</li>
                        <li>心率和血压升高</li>
                        <li>肌肉紧张</li>
                        <li>注意力集中</li>
                    </ul>
                    
                    <h4>压力的心理反应</h4>
                    <ul>
                        <li>焦虑和担忧</li>
                        <li>易怒或情绪波动</li>
                        <li>注意力难以集中</li>
                        <li>悲观或无助感</li>
                    </ul>
                    
                    <h3>识别压力源</h3>
                    <p>了解压力来源是管理压力的第一步：</p>
                    <ul>
                        <li><strong>工作相关：</strong>工作量、人际关系、职业发展</li>
                        <li><strong>家庭相关：</strong>家庭责任、亲子关系、经济压力</li>
                        <li><strong>个人相关：</strong>健康问题、时间管理、自我期望</li>
                        <li><strong>环境相关：</strong>噪音、交通、社会变化</li>
                    </ul>
                    
                    <h3>压力管理策略</h3>
                    
                    <h4>1. 时间管理</h4>
                    <ul>
                        <li>制定优先级清单</li>
                        <li>学会合理分配时间</li>
                        <li>避免拖延</li>
                        <li>学会说"不"</li>
                    </ul>
                    
                    <h4>2. 放松技巧</h4>
                    <ul>
                        <li><strong>深呼吸：</strong>腹式呼吸可以快速缓解紧张</li>
                        <li><strong>渐进性肌肉放松：</strong>逐步放松全身肌肉</li>
                        <li><strong>冥想：</strong>每天10-20分钟的正念练习</li>
                        <li><strong>瑜伽或太极：</strong>结合身体运动和心灵放松</li>
                    </ul>
                    
                    <h4>3. 生活方式调整</h4>
                    <ul>
                        <li><strong>规律运动：</strong>每周至少150分钟中等强度运动</li>
                        <li><strong>健康饮食：</strong>均衡营养，避免过度依赖咖啡因和糖分</li>
                        <li><strong>充足睡眠：</strong>每晚7-9小时优质睡眠</li>
                        <li><strong>限制酒精：</strong>避免用酒精应对压力</li>
                    </ul>
                    
                    <h4>4. 社交支持</h4>
                    <ul>
                        <li>与朋友和家人分享感受</li>
                        <li>寻求专业帮助</li>
                        <li>加入支持小组</li>
                        <li>培养新的社交关系</li>
                    </ul>
                    
                    <h4>5. 认知重构</h4>
                    <ul>
                        <li>识别和质疑负面思维</li>
                        <li>用积极思维替代消极思维</li>
                        <li>接受无法改变的事情</li>
                        <li>专注于可以控制的因素</li>
                    </ul>
                    
                    <h3>应对急性压力</h3>
                    <p>当面临突发压力时：</p>
                    <ul>
                        <li>暂停并深呼吸</li>
                        <li>评估情况的紧急程度</li>
                        <li>制定应对计划</li>
                        <li>寻求帮助</li>
                    </ul>
                    
                    <h3>建立抗压能力</h3>
                    <p>长期提升抗压能力：</p>
                    <ul>
                        <li>培养乐观态度</li>
                        <li>发展解决问题的技能</li>
                        <li>建立健康的生活习惯</li>
                        <li>定期进行自我反思</li>
                        <li>培养兴趣爱好</li>
                    </ul>
                    
                    <h3>预防职业倦怠</h3>
                    <p>职业倦怠是长期工作压力的结果：</p>
                    <ul>
                        <li>定期休息和休假</li>
                        <li>设定工作边界</li>
                        <li>寻找工作意义</li>
                        <li>发展工作外的兴趣</li>
                    </ul>
                    
                    <h3>何时寻求专业帮助</h3>
                    <p>如果压力严重影响生活：</p>
                    <ul>
                        <li>持续的焦虑或抑郁</li>
                        <li>身体症状（头痛、胃痛等）</li>
                        <li>睡眠或食欲显著改变</li>
                        <li>使用酒精或药物应对压力</li>
                        <li>有自伤或伤害他人的想法</li>
                    </ul>
                    
                    <p>记住，压力管理是一项终身技能。通过不断练习和调整，每个人都可以找到适合自己的压力管理方法，过上更健康、更平衡的生活。</p>
                `
            }
        };
        
        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 检查用户登录状态
            checkUserStatus();
            bindUserMenuEvents();
        });
        
        // 搜索文章
        function searchArticles() {
            const searchTerm = document.getElementById('search-input').value.toLowerCase();
            if (!searchTerm) return;
            
            // 实际搜索功能
            const articleCards = document.querySelectorAll('.article-card');
            let foundCount = 0;
            
            articleCards.forEach(card => {
                const title = card.querySelector('h3').textContent.toLowerCase();
                const content = card.querySelector('p').textContent.toLowerCase();
                const category = card.querySelector('.article-meta span').textContent.toLowerCase();
                
                if (title.includes(searchTerm) || content.includes(searchTerm) || category.includes(searchTerm)) {
                    card.style.display = 'block';
                    foundCount++;
                } else {
                    card.style.display = 'none';
                }
            });
            
            if (foundCount === 0) {
                alert(`未找到与"${searchTerm}"相关的文章`);
            }
        }
        
        // 筛选文章
        function filterArticles(category) {
            // 更新按钮状态
            document.querySelectorAll('.category-button').forEach(button => {
                button.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // 获取所有文章卡片
            const articleCards = document.querySelectorAll('.article-card');
            
            // 如果选择"全部"，显示所有文章
            if (category === 'all') {
                articleCards.forEach(card => {
                    card.style.display = 'block';
                });
                return;
            }
            
            // 根据分类筛选文章
            articleCards.forEach(card => {
                const cardCategory = card.querySelector('.article-meta span').textContent;
                // 匹配分类（部分包含即可）
                if (category === 'depression' && cardCategory.includes('抑郁')) {
                    card.style.display = 'block';
                } else if (category === 'anxiety' && cardCategory.includes('焦虑')) {
                    card.style.display = 'block';
                } else if (category === 'sleep' && cardCategory.includes('睡眠')) {
                    card.style.display = 'block';
                } else if (category === 'relationships' && cardCategory.includes('人际关系')) {
                    card.style.display = 'block';
                } else if (category === 'stress' && cardCategory.includes('压力')) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }
        
        // 显示文章详情
        function showArticle(articleId) {
            const article = articles[articleId];
            if (!article) return;
            
            // 隐藏文章列表
            document.getElementById('knowledge-content').style.display = 'none';
            
            // 填充文章详情
            document.getElementById('article-title').textContent = article.title;
            document.getElementById('article-category').textContent = article.category;
            document.getElementById('article-date').textContent = article.date;
            document.getElementById('article-author').textContent = article.author;
            document.getElementById('article-content').innerHTML = article.content;
            
            // 显示文章详情
            document.getElementById('article-detail').style.display = 'block';
            
            // 滚动到顶部
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // 隐藏文章详情
        function hideArticle() {
            // 隐藏文章详情
            document.getElementById('article-detail').style.display = 'none';
            
            // 显示文章列表
            document.getElementById('knowledge-content').style.display = 'grid';
        }
        
        // 检查用户状态并更新UI
        function checkUserStatus() {
            try {
                const token = localStorage.getItem('token');
                const user = JSON.parse(localStorage.getItem('user') || '{}');
                const userProfile = JSON.parse(localStorage.getItem('userProfile') || '{}');
                
                const userInfo = document.getElementById('user-info');
                const authButton = document.getElementById('auth-button');
                const userName = document.getElementById('user-name');
                const userButton = document.getElementById('user-button');
                const profileNickname = document.getElementById('profile-nickname');
                const profileGender = document.getElementById('profile-gender');
                const profileZodiac = document.getElementById('profile-zodiac');
                
                if (token && user) {
                    // 用户已登录
                    if (userInfo) userInfo.style.display = 'block';
                    if (authButton) authButton.style.display = 'none';
                    if (userName) userName.textContent = user.username;
                    
                    // 设置用户按钮显示首字母
                    if (userButton) {
                        userButton.textContent = user.username.charAt(0).toUpperCase();
                    }
                    
                    // 显示用户个人信息
                    if (profileNickname) {
                        profileNickname.textContent = userProfile.nickname || '';
                    }
                    
                    if (profileGender) {
                        const genderText = userProfile.gender === 'female' ? '女' : 
                                         userProfile.gender === 'male' ? '男' : '';
                        profileGender.textContent = genderText ? ` ${genderText}` : '';
                    }
                    
                    if (profileZodiac) {
                        profileZodiac.textContent = userProfile.zodiac ? ` ${userProfile.zodiac}` : '';
                    }
                } else {
                    // 用户未登录
                    if (userInfo) userInfo.style.display = 'none';
                    if (authButton) authButton.style.display = 'block';
                }
            } catch (error) {
                console.error('Error checking user status:', error);
            }
        }
        
        // 绑定用户菜单事件
        function bindUserMenuEvents() {
            try {
                const userButton = document.getElementById('user-button');
                const userMenu = document.getElementById('user-menu');
                const logoutBtn = document.getElementById('logout-btn');
                const profileBtn = document.getElementById('profile-btn');
                
                if (userButton) {
                    // 移除可能存在的旧事件监听器，防止重复绑定
                    userButton.removeEventListener('click', handleUserButtonClick);
                    // 添加新的事件监听器
                    userButton.addEventListener('click', handleUserButtonClick);
                }
                
                // 添加用户头像双击事件，直接跳转到个人主页
                if (userButton) {
                    userButton.removeEventListener('dblclick', handleUserProfileClick);
                    userButton.addEventListener('dblclick', handleUserProfileClick);
                }
                
                if (profileBtn) {
                    profileBtn.addEventListener('click', function() {
                        // 跳转到用户个人信息页面
                        window.location.href = 'profile.html';
                    });
                }
                
                if (logoutBtn) {
                    logoutBtn.addEventListener('click', function() {
                        // 清除用户信息
                        localStorage.removeItem('token');
                        localStorage.removeItem('user');
                        localStorage.removeItem('userProfile');
                        
                        // 隐藏用户菜单
                        if (userMenu) userMenu.classList.remove('show');
                        
                        // 隐藏用户信息按钮，显示登录按钮
                        const userInfo = document.getElementById('user-info');
                        const authButton = document.getElementById('auth-button');
                        const userButton = document.getElementById('user-button');
                        if (userInfo) userInfo.style.display = 'none';
                        if (authButton) authButton.style.display = 'block';
                        if (userButton) userButton.textContent = 'U'; // 重置为默认值
                        
                        alert('已成功登出');
                        
                        // 如果在聊天界面，滚动到顶部
                        window.scrollTo(0, 0);
                    });
                }
                
                // 点击页面其他地方隐藏菜单
                document.addEventListener('click', function(e) {
                    if (userMenu && !userMenu.contains(e.target) && userButton !== e.target) {
                        userMenu.classList.remove('show');
                    }
                });
            } catch (error) {
                console.error('Error binding user menu events:', error);
            }
        }
        
        // 用户按钮点击事件处理函数
        function handleUserButtonClick(e) {
            try {
                const userMenu = document.getElementById('user-menu');
                if (userMenu) {
                    e.stopPropagation();
                    userMenu.classList.toggle('show');
                }
            } catch (error) {
                console.error('Error in user button click handler:', error);
            }
        }
        
        // 添加这个函数来处理用户头像双击跳转到个人主页
        function handleUserProfileClick() {
            window.location.href = 'profile.html';
        }

        // 跳转到聊天功能
        function goToChat() {
            try {
                const token = localStorage.getItem('token');
                if (token) {
                    // 已登录用户跳转到首页的聊天界面
                    window.location.href = 'index.html#chat';
                } else {
                    // 未登录用户显示登录模态框
                    alert('请先登录');
                    window.location.href = 'index.html';
                }
            } catch (error) {
                console.error('Error in goToChat:', error);
            }
        }
    </script>
</body>
</html>